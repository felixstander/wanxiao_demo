---
name: insurance-product-search
description: 保险产品查询/产品答疑与资料检索。当用户在问“某款保险保什么/赔什么/保障责任/保障范围/条款亮点/有什么医疗险/老人能买什么/少儿门诊保什么”等信息检索类问题时使用；调用 insurance_product_search 按关键词检索产品资料并返回名称、简介与标签。不用于产品推荐（预算/需求匹配）也不用于出单（算保费/生成保单号）。
---

# 保险产品查询（产品答疑 / 资料检索）

本 Skill 用于回答用户关于保险产品“信息/特点/保障点”的问题，或按关键词检索产品资料（名称、简介、标签）。

## Common Workflow

1. 识别用户意图是否为“查询/了解/对比信息”（而不是“让我推荐/我要买”）。
2. 提取 `query`（尽量保留原话；必要时补充人群/场景/关键词）。
3. 调用 `insurance_product_search` 获取候选产品资料。
4. 将结果整理成清晰列表（产品名 + 一句话亮点 + 标签）。
5. 追问下一步：
   - 若用户要“推荐更合适的”：引导其给预算/需求，转到产品推荐。
   - 若用户要“就买某款”：补齐年龄/性别，转到出单。

## 绑定脚本与工具

- 脚本：`scripts/product_faq.py`
- 工具名（LangChain Tool）：`insurance_product_search`
- 入参：
  - `query`：用户问题或关键词，例如 `"有什么医疗险"`、`"尊享e生保什么"`、`"意外险 哪个好"`
- 返回：
  - 文本（列出匹配到的产品：名称 + 简介 + 标签）

### Basic Usage

**Note:** Always use the absolute path from your skills directory (shown in the system prompt above).

用于本地快速验证脚本是否可运行（参数：`<query>`；可包含空格，建议用引号包住）。

提示：当前资料检索更偏“关键词匹配”，`query` 尽量简短、可识别（例如直接用 `"尊享e生"`、`"医疗险"`、`"少儿 门诊"`）。过长的整句描述可能会返回更泛的结果列表。

If running deepagents from a virtual environment:
```bash
.venv/bin/python [YOUR_SKILLS_DIR]/保险产品查询/scripts/product_faq.py "有什么医疗险"
```

如果直接使用系统 Python：
```bash
python "$HOME/.deepagents/agent/skills/保险产品查询/scripts/product_faq.py" "有什么医疗险"
```

## 什么时候调用（强约束）

仅在用户在做“信息检索/产品答疑”时调用 `insurance_product_search`，例如：

- 询问某个产品“保什么、特点、适合谁、有哪些标签/保障点”。
- 询问某一类产品“有什么医疗险/有什么少儿门诊险/老人能买什么防癌医疗”。
- 需要快速列出候选产品供用户进一步确认名称（然后再进入推荐或出单流程）。

## 不要做的事（避免误用）

- 不要用于“推荐哪款更适合我”的决策问题（那应使用产品推荐工具）。
- 不要用于“我就买 X，帮我出单/算保费”这类购买动作（那应使用出单/保费试算工具）。
- 不要编造条款细节：返回内容来自内置的产品资料库（`insurance_database.py`），超出资料范围的内容应提示用户需要更完整的条款/投保规则。

## 参数提取建议

- `query` 尽量保留用户原话。
- 如果输出太多（例如用户问得太泛），先引导用户补充更具体关键词（人群：少儿/老人；风险：门诊/住院/癌症/意外；预算区间）。

## 输出解读与对用户的输出规范

- 优先把匹配结果整理成清晰列表（产品名 + 一句话亮点 + 标签）。
- 若用户接下来要“选一款”，再引导其给预算/需求转到推荐；若用户要“买某款”，补齐年龄/性别后转到出单。

## 示例（供 Agent 参考）

用户：
> 尊享e生保什么？

调用：
```json
{"query":"尊享e生"}
```
